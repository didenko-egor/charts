import{__spreadArray as e}from"tslib";import r,{useState as t,useRef as i,useEffect as l}from"react";import{CollapsedBreadcrumbs as n}from"./CollapsedBreadcrumbs.js";import o from"./BreadcrumbItem.js";import{getStrWidth as a,getBreadcrumbsArray as s}from"./utils.js";import c from"./styles.scss.js";var m=function(m){var d=m.breadcrumbs,u=void 0===d?[]:d,v=m.onlyPath,f=void 0!==v&&v,h=m.color,b=void 0===h?"text_primary":h,p=m.size,g=void 0===p?"default":p,C=m.highlightActive,k=void 0!==C&&C,E=m.dataTestId,w=m.renderCrumbLink,y=t([]),L=y[0],z=y[1],j=t([]),P=j[0],x=j[1],A=i(null);l((function(){var r=function(){if(A.current){var r=a(u,g),t=A.current.clientWidth;if(r>t){for(var i=e([],u,!0),l=[];a(i,g)>t&&i.length>1;)if(2===i.length){var n=i.splice(0,1)[0];l.unshift(n)}else{n=i.splice(1,1)[0];l.push(n)}z(l),x(s(i,!1))}else z([]),x(s(u,!0))}};return r(),window.addEventListener("resize",r),function(){window.removeEventListener("resize",r)}}),[u,g]);var B;return r.createElement("nav",{"aria-label":"breadcrumb",className:c.container},r.createElement("ol",{className:c.breadcrumbs,ref:A,"data-test-id":E},P.length>0&&(B=P,r.createElement(r.Fragment,null,B.map((function(e,t){return(null==e?void 0:e.isCollapsed)?r.createElement(o,{key:e.title,isCollapsed:!0,renderCrumbLink:w},r.createElement(n,{breadcrumbs:L,onlyPath:f,renderCrumbLink:w,size:g,color:b})):r.createElement(o,{active:t===B.length-1,href:e.fullPath,color:b,size:g,withUnderline:!f,onClick:null==e?void 0:e.onClick,key:e.title,overflow:t===B.length-1,highlightActive:k,renderCrumbLink:w},null==e?void 0:e.title)}))))))};export{m as Breadcrumbs};
//# sourceMappingURL=index.js.map
