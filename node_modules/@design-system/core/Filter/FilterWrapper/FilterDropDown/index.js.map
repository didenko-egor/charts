{"version":3,"file":"index.js","sources":["../../../../src/Filter/FilterWrapper/FilterDropDown/index.tsx"],"sourcesContent":["import React from 'react';\nimport { createPortal } from 'react-dom';\nimport { ScrollBox } from 'shared/ScrollBox';\n\nimport styles from './styles.scss';\n\nconst FilterDropDown = React\n  .forwardRef<HTMLDivElement, { children: React.ReactNode }>(({\n  children\n}, ref) => {\n  const content = (\n    // eslint-disable-next-line jsx-a11y/click-events-have-key-events, jsx-a11y/no-static-element-interactions\n    <div\n      data-test-id=\"filter_drop_down_id\"\n      ref={ ref }\n      /** opacity: 0, чтобы не не было заметно выпадающее окно до момента его встраивания по актуальным координатам */\n      style={ { opacity: 0 } }\n      className={ styles.wrapper }\n      onClick={ (e: React.MouseEvent): void => e.stopPropagation() }\n    >\n      { React.Children.map(children, (child, index) => {\n        // закрепить дочерний элемент в шапке дропдауна вне основной скроллируемой области\n        if (index === 0) {\n          return child;\n        }\n\n        if (!React.isValidElement(child)) {\n          return null;\n        }\n\n        const filterItemChildren = child.props.children;\n\n        const mainChildrenCount = React.Children.count(filterItemChildren);\n\n        if (mainChildrenCount <= 1) {\n          return (\n            <div className={ styles.container }>\n              <ScrollBox dataTestId=\"scroll_box_id\" overrideWrapperClassName={ styles.scrollbar }>\n                { child }\n              </ScrollBox>\n            </div>\n          );\n        }\n\n        return React.Children.map(filterItemChildren, (filterItemChild, idx) => (idx === 0\n          ? filterItemChild\n          : (\n            <div className={ styles.container }>\n              <ScrollBox dataTestId=\"scroll_box_id\" overrideWrapperClassName={ styles.scrollbar }>\n                { filterItemChild }\n              </ScrollBox>\n            </div>\n          )\n        ));\n      }) }\n    </div>\n  );\n\n  return createPortal(content, document.body);\n});\n\nFilterDropDown.displayName = 'FilterDropDown';\n\nexport default FilterDropDown;\n"],"names":["FilterDropDown","React","forwardRef","_a","ref","children","content","style","opacity","className","styles","wrapper","onClick","e","stopPropagation","Children","map","child","index","isValidElement","filterItemChildren","props","count","container","ScrollBox","dataTestId","overrideWrapperClassName","scrollbar","filterItemChild","idx","createPortal","document","body","displayName"],"mappings":"iKAMMA,EAAiBC,EACpBC,YAA0D,SAACC,EAE3DC,OADDC,aAEMC,EAEJL,sCACe,sBACbG,IAAMA,EAENG,MAAQ,CAAEC,QAAS,GACnBC,UAAYC,EAAOC,QACnBC,QAAU,SAACC,GAA8B,OAAAA,EAAEC,oBAEzCb,EAAMc,SAASC,IAAIX,GAAU,SAACY,EAAOC,GAErC,GAAc,IAAVA,EACF,OAAOD,EAGT,IAAKhB,EAAMkB,eAAeF,GACxB,OAAO,KAGT,IAAMG,EAAqBH,EAAMI,MAAMhB,SAIvC,OAF0BJ,EAAMc,SAASO,MAAMF,IAEtB,EAErBnB,uBAAKQ,UAAYC,EAAOa,WACtBtB,gBAACuB,GAAUC,WAAW,gBAAgBC,yBAA2BhB,EAAOiB,WACpEV,IAMHhB,EAAMc,SAASC,IAAII,GAAoB,SAACQ,EAAiBC,GAAQ,OAAS,IAARA,EACrED,EAEA3B,uBAAKQ,UAAYC,EAAOa,WACtBtB,gBAACuB,GAAUC,WAAW,gBAAgBC,yBAA2BhB,EAAOiB,WACpEC,WAShB,OAAOE,EAAaxB,EAASyB,SAASC,KACxC,IAEAhC,EAAeiC,YAAc"}