import e,{useMemo as t,useCallback as i}from"react";import{IconSort as n}from"../../icons/index.js";import{RadioButtonGroup as l}from"../../Radio/index.js";import r from"../FilterWrapper/index.js";import a from"./Divider/index.js";import{TEXT_LIMIT_WITH_ELLIPSIS as o}from"../constants.js";import{convertConfigItemToFilter as s,trimText as d}from"./utils.js";import m from"./styles.scss.js";function c(c){var u=c.config,f=u.title,v=u.items,p=c.defaultValue,x=c.activeItems,C=c.isHiddenHeader,I=c.zIndex,b=c.onChange,g=c.disabled,E=void 0!==g&&g,j=t((function(){return p||s(v[0])}),[p,v]),_=x[0]||j,h=_.mode,z=_.value,A=_.label,H=t((function(){var e;return(null===(e=v.find((function(e){return e.value===z})))||void 0===e?void 0:e.modes)||[]}),[z,v]),T=i((function(){b([j])}),[j,b]),L=i((function(e){var t=v.find((function(t){return t.value===e}));if(t){var i=s(t);b([i])}}),[v,b]),O=i((function(e){var t={value:_.value,label:_.label,filterId:_.filterId,mode:e};b([t])}),[_,b]),V=z!==j.value||h!==j.mode,W=d(A),B="asc"===h?180:void 0;return e.createElement(r,{title:f,buttonTitle:W,textOnClearButton:"По умолчанию",customIcon:e.createElement(n,{rotate:B,dataTestId:"sorting_filter_icon"}),closeOnButtonClick:!0,iconLeft:!0,allowClearAllAction:V,autoCloseOnClearAll:!1,activeCount:0,onClearAll:T,isHiddenHeader:C,zIndex:I,disabled:E},e.createElement("div",{className:m.container},e.createElement(l,{name:String(j.filterId||""),items:v,activeValue:z,onChange:L,textLimitWithEllipsis:o,size:"small",dataTestId:"sorting_filter_content",disabled:E}),e.createElement(a,null),e.createElement(l,{name:"sort-order",items:H,activeValue:h,onChange:O,textLimitWithEllipsis:o,size:"small",dataTestId:"sorting_filter_order",disabled:E})))}export{c as default};
//# sourceMappingURL=index.js.map
