import e,{useState as t,useEffect as n,useCallback as i}from"react";import{cssDecorator as r}from"@front-toolkit/utils";import{Input as o}from"../../Input/index.js";import{IconSearch as a}from"../../icons/index.js";import s from"./DropdownBody/index.js";import c from"../FilterWrapper/index.js";import{isListIncludesItem as l}from"../utils.js";import m from"./styles.scss.js";var p=r(m),u=[{icon:e.createElement(a,null)}],d=function(e,t){return e.filter((function(e){return e.label.toLocaleUpperCase().includes(t.toLocaleUpperCase())}))},f=function(r){var a=r.config,f=a.title,v=a.items,h=r.activeItems,C=r.isOpen,g=r.isHiddenHeader,x=r.zIndex,I=r.withSearch,j=r.onChange,E=r.onOpenStatusChange,H=t(""),O=H[0],_=H[1],z=t(null!=C&&C),L=z[0],S=z[1],w=t({active:[],rest:v}),y=w[0],A=w[1],N=t({active:[],rest:v}),U=N[0],b=N[1];n((function(){L||(_(""),h&&A({active:h,rest:v.filter((function(e){return!l(e,h)}))}))}),[h,L,v]),n((function(){b({active:d(y.active,O),rest:d(y.rest,O)})}),[y,O]);var k=i((function(e){S(e),E&&E(e)}),[E]),B=i((function(){j&&j([])}),[j]);return e.createElement(c,{title:f,activeCount:h.length,isOpen:C,isHiddenHeader:g,zIndex:x,onOpenStatusChange:k,onClearAll:B},I&&e.createElement("div",{className:m.input},e.createElement(o,{dataTestId:"filter_input_id",size:"small",placeholder:"Поиск",icons:u,value:O,onChange:_,iconsLeft:!0})),e.createElement("div",{className:p("container",{no_top_indent:I})},e.createElement(s,{hoistedActiveItems:U.active,activeItems:h,items:U.rest,onChange:j})))};export{f as default};
//# sourceMappingURL=index.js.map
