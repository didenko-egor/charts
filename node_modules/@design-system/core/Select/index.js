import"focus-visible";import e,{useRef as r,useMemo as t,useState as i,useCallback as o,useEffect as n}from"react";import{IconChevronDown as s}from"../icons/index.js";import"tslib";import{MemoizedInputHint as l}from"../packages/core/shared/InputHint/index.js";import{MemoizedInputLabel as a}from"../packages/core/shared/InputLabel/index.js";import{BaseSelect as d}from"../packages/core/shared/BaseSelect/index.js";import{BaseInput as c}from"../shared/BaseInput/index.js";import{useFormContext as u}from"../shared/Form/formContext.js";import m from"../packages/core/utils/getLabelColor/index.js";import p from"../shared/BaseInput/coreStyles.scss.js";import f from"../shared/BaseInput/WithIcons/coreStyles.scss.js";var h="default",b="select_id",v={},E=function(E){var I=E.id,x=E.items,g=E.label,j=E.placeholder,C=E.disabled,S=E.isError,k=E.showHint,y=E.hintMessage,A=E.labelAside,B=E.activeValue,D=E.size,L=void 0===D?h:D,w=E.onChange,z=void 0===w?function(){}:w,W=E.dataTestId,H=void 0===W?b:W,M=E.labelWidth,T=E.fieldName,_=E.fixedModeID,F=u({labelWidth:M,labelAside:A,size:L}),V=F.LABEL_WIDTH,K=F.LABEL_ASIDE,N=F.SIZE,O=r(!0),P=t((function(){var e;return null===(e=x.find((function(e){return e.value===B})))||void 0===e?void 0:e.label}),[B,x]),Z=i(!1),q=Z[0],G=Z[1],J=i(P),Q=J[0],R=J[1],U=o((function(){return G((function(e){return!e}))}),[]),X=o((function(e){"Enter"===e.code&&G((function(e){return!e}))}),[]),Y=o((function(e){z(e,T),G(!1)}),[T,z]),$=o((function(){return G(!1)}),[]),ee=t((function(){return[{icon:e.createElement(s,null),onClick:U}]}),[U]);n((function(){O.current?O.current=!1:R(P)}),[P,B,x]);var re=g?e.createElement(a,{size:N,htmlFor:I,text:g,color:m(C)}):null,te=k?e.createElement(l,{disabled:C,isError:S,hintMessage:y}):null;return e.createElement(d,{items:x,activeValue:B,size:N,labelAside:K,isOpenDropdown:q,disabled:C,isError:S,showHint:k,label:re,hint:te,onChange:z,onItemClick:Y,onCloseDropdown:$,dataTestId:H,labelWidth:V,fixedModeID:_},e.createElement(c,{id:I,value:Q,hint:te,icons:ee,size:N,disabled:C,isError:S,styles:p,wrapperStyles:v,iconsStyles:f,onClick:U,onKeyPress:X,placeholder:j,isSelect:!0,pseudo:!0}))};export{E as Select};
//# sourceMappingURL=index.js.map
