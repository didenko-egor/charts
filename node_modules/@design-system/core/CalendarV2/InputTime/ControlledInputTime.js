import{__rest as e,__assign as o}from"tslib";import t,{useState as i,useMemo as r,useRef as l,useCallback as n,useEffect as s}from"react";import{cssDecorator as a}from"@front-toolkit/utils";import{ForwardedMaskInput as u}from"../../MaskedInput/index.js";import{IconTime as m}from"../../icons/index.js";import{List as c}from"./List/index.js";import{testTimeString as d,getTimes as f,HOURS as p,MINUTES as v}from"./utils.js";import{useInputStyles as h}from"../hooks/useInputStyles.js";import{useBodyScrollLock as b}from"../hooks/useBodyScrollLock.js";import k from"./styles.scss.js";var E=a(k),j=[{icon:t.createElement(m,null),onClick:function(){}}];function g(a){var m,g=a.id,C=a.placeholderMask,y=void 0===C?"чч:мм":C,M=a.value,R=a.onChange,x=a.onBlur,z=a.fieldName,B=a.size,N=void 0===B?"default":B,A=a.labelAside,I=a.disabled,S=a.isError,w=e(a,["id","placeholderMask","value","onChange","onBlur","fieldName","size","labelAside","disabled","isError"]),L=i(d(M,!0)),D=L[0],O=L[1],W=r((function(){return f(M)}),[M]),_=W[0],q=W[1],F=l(null),G=l(null),H=l(null),J=h({labelAside:A,size:N,inputRef:H}),K=J.positionStyles,P=J.focusOnInput,Q=l(null);b({targetRef:Q});var T=n((function(e){(P(),R)&&R(e+":"+(q||"00"),z)}),[q,z,P,R]),U=n((function(e){(P(),R)&&R((_||"00")+":"+e,z)}),[_,z,P,R]),V=n((function(e){var o,t,i=d(e);!!e&&i||(null===(o=F.current)||void 0===o||o.scroll({top:0,behavior:"smooth"}),null===(t=G.current)||void 0===t||t.scroll({top:0,behavior:"smooth"})),R&&R(e,z)}),[z,R]),X=n((function(e){var o=d(M);O(!o),x&&x(e)}),[M,x]);return s((function(){var e=d(M,!0);O(!e)}),[M]),t.createElement("div",{className:E("time_input",(m={},m[""+N]=!0,m)),ref:Q,role:"presentation"},t.createElement(u,o({},w,{disabled:I,id:g,value:M,placeholderMask:y,onChange:V,icons:j,size:N,inputRef:H,isError:S||D,onBlur:X,withoutDefaultMinWidth:!0})),t.createElement("div",{className:k.dropdown,style:K},t.createElement(c,{items:p,value:_,onChange:T,listRef:F}),t.createElement(c,{items:v,value:q,onChange:U,listRef:G})))}export{g as ControlledInputTime};
//# sourceMappingURL=ControlledInputTime.js.map
