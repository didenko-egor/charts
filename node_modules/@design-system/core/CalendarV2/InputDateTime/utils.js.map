{"version":3,"file":"utils.js","sources":["../../../src/CalendarV2/InputDateTime/utils.ts"],"sourcesContent":["import { formatDateToString, formatToDate } from '../InputCalendar/utils';\nimport { formatTimeToString, formatToTime } from '../InputTime/utils';\n\n/** Преобразовать в формат для InputCalendar и InputTime */\nexport function getDateTimeInput(v?: string): [string, string] {\n  if (!v) return ['', ''];\n\n  const arr = v.split('T');\n\n  return [arr[0], arr[1]];\n}\n\n/** Преобразовать даты во внутренний формат */\nexport function formatDateTimeToString(date?: Date, prevInput?: string): string {\n  if (!date) return '';\n\n  return `${ formatDateToString(date, prevInput) }T${ formatTimeToString(date) }`;\n}\n\nexport interface DateTimeFormat {\n  isEmpty: boolean;\n  value?: Date;\n}\n\n/** Преобразовать во внешний формат */\nexport function formatToDateTime(\n  value?: string,\n  minDate?: Date,\n  maxDate?: Date\n): DateTimeFormat {\n  if (!value) return { isEmpty: true };\n\n  if (value === 'T') return { isEmpty: true };\n\n  const parts = getDateTimeInput(value);\n  if (!parts[0] || !parts[1]) return { isEmpty: false };\n\n  const timeValue = formatToTime(parts[1]);\n  if (timeValue.value === undefined) return { isEmpty: false };\n\n  const dateValue = formatToDate(parts[0], minDate, maxDate);\n  if (!dateValue.value) return { isEmpty: false };\n\n  const result = dateValue.value;\n  result.setHours(timeValue.value.hours);\n  result.setMinutes(timeValue.value.minutes);\n\n  return { value: result, isEmpty: false };\n}\n"],"names":["getDateTimeInput","v","arr","split","formatDateTimeToString","date","prevInput","formatDateToString","formatTimeToString","formatToDateTime","value","minDate","maxDate","isEmpty","parts","timeValue","formatToTime","undefined","dateValue","formatToDate","result","setHours","hours","setMinutes","minutes"],"mappings":"uKAIgBA,EAAiBC,GAC/B,IAAKA,EAAG,MAAO,CAAC,GAAI,IAEpB,IAAMC,EAAMD,EAAEE,MAAM,KAEpB,MAAO,CAACD,EAAI,GAAIA,EAAI,GACtB,UAGgBE,EAAuBC,EAAaC,GAClD,OAAKD,EAEME,EAAmBF,EAAMC,OAAgBE,EAAmBH,GAFrD,EAGpB,UAQgBI,EACdC,EACAC,EACAC,GAEA,IAAKF,EAAO,MAAO,CAAEG,SAAS,GAE9B,GAAc,MAAVH,EAAe,MAAO,CAAEG,SAAS,GAErC,IAAMC,EAAQd,EAAiBU,GAC/B,IAAKI,EAAM,KAAOA,EAAM,GAAI,MAAO,CAAED,SAAS,GAE9C,IAAME,EAAYC,EAAaF,EAAM,IACrC,QAAwBG,IAApBF,EAAUL,MAAqB,MAAO,CAAEG,SAAS,GAErD,IAAMK,EAAYC,EAAaL,EAAM,GAAIH,EAASC,GAClD,IAAKM,EAAUR,MAAO,MAAO,CAAEG,SAAS,GAExC,IAAMO,EAASF,EAAUR,MAIzB,OAHAU,EAAOC,SAASN,EAAUL,MAAMY,OAChCF,EAAOG,WAAWR,EAAUL,MAAMc,SAE3B,CAAEd,MAAOU,EAAQP,SAAS,EACnC"}