import e,{useState as t,useMemo as r,useCallback as i,useEffect as o}from"react";import{IconSearch as n,IconChevronDown as s}from"../icons/index.js";import"tslib";import{MemoizedInputHint as l}from"../packages/core/shared/InputHint/index.js";import{MemoizedInputLabel as a}from"../packages/core/shared/InputLabel/index.js";import{BaseSelect as d}from"../packages/core/shared/BaseSelect/index.js";import{BaseInput as c}from"../shared/BaseInput/index.js";import{useFormContext as u}from"../shared/Form/formContext.js";import m from"../packages/core/utils/getLabelColor/index.js";import f from"../shared/BaseInput/coreStyles.scss.js";import p from"../shared/BaseInput/WithIcons/coreStyles.scss.js";var h="default",b="select_input_id",v="",E={},I=function(I){var x=I.id,g=I.items,j=I.label,C=I.placeholder,L=void 0===C?v:C,w=I.disabled,S=I.isError,k=I.showHint,A=I.hintMessage,B=I.onChange,D=void 0===B?function(){}:B,y=I.labelAside,z=I.activeValue,W=I.size,H=void 0===W?h:W,M=I.dataTestId,_=void 0===M?b:M,F=I.labelWidth,T=I.fieldName,V=I.fixedModeID,N=u({labelWidth:F,labelAside:y,size:H}),O=N.LABEL_WIDTH,Z=N.LABEL_ASIDE,q=N.SIZE,G=t(!1),J=G[0],K=G[1],P=t(""),Q=P[0],R=P[1],U=r((function(){var e;return null===(e=g.find((function(e){return e.value===z})))||void 0===e?void 0:e.label}),[z,g]),X=r((function(){return g.filter((function(e){return e.label.toLowerCase().includes(Q.toLowerCase())}))}),[Q,g]),Y=i((function(e){D(e,T),K(!1)}),[T,D]),$=i((function(e){R(e),0===e.length&&D(void 0,T)}),[T,D]),ee=i((function(){return K(!0)}),[]),te=i((function(){""===Q&&D(void 0,T),R(U||""),K(!1)}),[Q,U,D,T]),re=r((function(){return[{icon:J?e.createElement(n,null):e.createElement(s,null),onClick:ee}]}),[J,ee]);o((function(){return R(U||"")}),[U,z,g]);var ie=j?e.createElement(a,{color:m(w),text:j,size:q,htmlFor:x}):null,oe=k?e.createElement(l,{disabled:w,isError:S,hintMessage:A}):null;return e.createElement(d,{size:q,label:ie,disabled:w,labelAside:Z,dataTestId:_,hint:oe,showHint:k,isError:S,items:Q?X:g,isOpenDropdown:J,activeValue:z,onItemClick:Y,onCloseDropdown:te,labelWidth:O,fixedModeID:V},e.createElement(c,{id:x,size:q,hint:oe,disabled:w,isError:S,onChange:$,onFocus:ee,placeholder:L,value:Q,icons:re,styles:f,iconsStyles:p,wrapperStyles:E}))};export{I as InputSelect};
//# sourceMappingURL=index.js.map
