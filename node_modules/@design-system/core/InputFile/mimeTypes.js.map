{"version":3,"file":"mimeTypes.js","sources":["../../src/InputFile/mimeTypes.ts"],"sourcesContent":["/** Тип медиа для предпросмотра */\nexport enum MediaType {\n  Image,\n  Video,\n  Audio,\n  Other\n}\n\n/** Типы для которых доступен предпросмотр */\nexport const PREVIEW_MIME = new Set([\n  'image/jpeg',\n  'image/png',\n  'image/bmp',\n  'image/gif',\n  'image/svg+xml',\n  'image/webp',\n  'video/quicktime',\n  'video/mp4',\n  'video/webm',\n  'video/x-flv',\n  'video/webm',\n  'audio/mpeg',\n  'audio/ogg',\n  'audio/x-wav',\n  'audio/wav',\n  'audio/m4a'\n]);\n\n/** Тип объекта, который описывает поддерживаемые форматы файлов */\nexport type FormatSet = { [type: string]: string };\n\n/** Форматы изображений, которые должны поддерживаться */\nexport const IMAGE_FORMAT: FormatSet = {\n  jpg: 'image/jpeg',\n  jpeg: 'image/jpeg',\n  png: 'image/png',\n  bmp: 'image/bmp',\n  gif: 'image/gif',\n  raw: 'image/x-dcraw',\n  tif: 'image/tiff',\n  tiff: 'image/tiff',\n  psd: 'image/vnd.adobe.photoshop',\n  jp2: 'image/jp2',\n  heic: 'image/heic',\n  heif: 'image/heif',\n  ai: 'application/postscript',\n  eps: 'application/postscript',\n  psb: 'image/x-photoshop',\n  svg: 'image/svg+xml',\n  tga: 'image/x-targa',\n  webp: 'image/webp'\n};\n\n/** Форматы видео, которые должны поддерживаться */\nexport const VIDEO_FORMAT: FormatSet = {\n  mov: 'video/quicktime',\n  avi: 'video/x-msvideo',\n  mp4: 'video/mp4',\n  mpg: 'video/mpeg ',\n  mpeg: 'video/mpeg',\n  mpe: 'video/mpeg',\n  mpv: 'video/mpv',\n  mkv: 'video/x-matroska',\n  webm: 'video/webm',\n  flv: 'video/x-flv',\n  wmv: 'video/x-ms-wmv',\n  '3gp': 'video/3gpp',\n  '3gp2': 'video/3gpp2',\n  asf: 'video/x-ms-wmx',\n  dv: 'video/dv',\n  f4v: 'video/mp4',\n  gxf: 'application/gxf',\n  m2ts: 'video/mpeg',\n  m4v: 'video/x-m4v',\n  mj2: 'video/mj2',\n  mts: 'model/vnd.mts',\n  mxf: 'application/mxf',\n  prores: 'video/quicktime',\n  qt: 'video/quicktime',\n  vc1: 'video/vc1',\n  vob: 'video/x-ms-vob'\n};\n\n/** Форматы аудио, которые должны поддерживаться */\nexport const AUDIO_FORMAT: FormatSet = {\n  m4p: 'audio/mp4a-latm',\n  mp2: 'audio/mpeg',\n  mp3: 'audio/mpeg',\n  aiff: 'audio/x-aiff',\n  wav: 'audio/x-wav',\n  wma: 'audio/x-ms-wma',\n  m4a: 'audio/m4a',\n  ogg: 'audio/ogg',\n  amr: 'audio/3gpp'\n};\n\n/** Получение типа медиа из типа файла */\nexport function getMediaType(file: { type: string; name: string }): MediaType {\n  const extensionParts = file.name.split('.');\n  const extension = extensionParts[extensionParts.length - 1];\n  if (extension in IMAGE_FORMAT) return MediaType.Image;\n  if (extension in VIDEO_FORMAT) return MediaType.Video;\n  if (extension in AUDIO_FORMAT) return MediaType.Audio;\n\n  const fileType = file.type;\n  if (fileType.includes('image')) return MediaType.Image;\n  if (fileType.includes('video')) return MediaType.Video;\n  if (fileType.includes('audio')) return MediaType.Audio;\n\n  return MediaType.Other;\n}\n"],"names":["MediaType","PREVIEW_MIME","Set","IMAGE_FORMAT","jpg","jpeg","png","bmp","gif","raw","tif","tiff","psd","jp2","heic","heif","ai","eps","psb","svg","tga","webp","VIDEO_FORMAT","mov","avi","mp4","mpg","mpeg","mpe","mpv","mkv","webm","flv","wmv","asf","dv","f4v","gxf","m2ts","m4v","mj2","mts","mxf","prores","qt","vc1","vob","AUDIO_FORMAT","m4p","mp2","mp3","aiff","wav","wma","m4a","ogg","amr","getMediaType","file","extensionParts","name","split","extension","length","Image","Video","Audio","fileType","type","includes","Other"],"mappings":"IACYA,GAAZ,SAAYA,GACVA,qBACAA,qBACAA,qBACAA,oBACD,CALD,CAAYA,IAAAA,WAQCC,EAAe,IAAIC,IAAI,CAClC,aACA,YACA,YACA,YACA,gBACA,aACA,kBACA,YACA,aACA,cACA,aACA,aACA,YACA,cACA,YACA,cAOWC,EAA0B,CACrCC,IAAK,aACLC,KAAM,aACNC,IAAK,YACLC,IAAK,YACLC,IAAK,YACLC,IAAK,gBACLC,IAAK,aACLC,KAAM,aACNC,IAAK,4BACLC,IAAK,YACLC,KAAM,aACNC,KAAM,aACNC,GAAI,yBACJC,IAAK,yBACLC,IAAK,oBACLC,IAAK,gBACLC,IAAK,gBACLC,KAAM,cAIKC,EAA0B,CACrCC,IAAK,kBACLC,IAAK,kBACLC,IAAK,YACLC,IAAK,cACLC,KAAM,aACNC,IAAK,aACLC,IAAK,YACLC,IAAK,mBACLC,KAAM,aACNC,IAAK,cACLC,IAAK,iBACL,MAAO,aACP,OAAQ,cACRC,IAAK,iBACLC,GAAI,WACJC,IAAK,YACLC,IAAK,kBACLC,KAAM,aACNC,IAAK,cACLC,IAAK,YACLC,IAAK,gBACLC,IAAK,kBACLC,OAAQ,kBACRC,GAAI,kBACJC,IAAK,YACLC,IAAK,kBAIMC,EAA0B,CACrCC,IAAK,kBACLC,IAAK,aACLC,IAAK,aACLC,KAAM,eACNC,IAAK,cACLC,IAAK,iBACLC,IAAK,YACLC,IAAK,YACLC,IAAK,uBAISC,EAAaC,GAC3B,IAAMC,EAAiBD,EAAKE,KAAKC,MAAM,KACjCC,EAAYH,EAAeA,EAAeI,OAAS,GACzD,GAAID,KAAa3D,EAAc,OAAOH,EAAUgE,MAChD,GAAIF,KAAaxC,EAAc,OAAOtB,EAAUiE,MAChD,GAAIH,KAAaf,EAAc,OAAO/C,EAAUkE,MAEhD,IAAMC,EAAWT,EAAKU,KACtB,OAAID,EAASE,SAAS,SAAiBrE,EAAUgE,MAC7CG,EAASE,SAAS,SAAiBrE,EAAUiE,MAC7CE,EAASE,SAAS,SAAiBrE,EAAUkE,MAE1ClE,EAAUsE,KACnB"}