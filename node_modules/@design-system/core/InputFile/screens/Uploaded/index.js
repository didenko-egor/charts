import e,{memo as t,useState as i,useEffect as a,useCallback as r}from"react";import{cssDecorator as o}from"@front-toolkit/utils";import l from"../../../ControlBar/ContollButton.js";import{IconBin as n}from"../../../icons/index.js";import m from"./PlayButton.js";import d from"./MediaViewer.js";import s from"../../MiddleOverflowText/index.js";import{readFileAsURL as c}from"./utils.js";import{PREVIEW_MIME as p,getMediaType as u,MediaType as f}from"../../mimeTypes.js";import v from"./styles.scss.js";var y=o(v);var j=t((function(t){var o=t.file,j=t.onDelete,E=t.textSize,_=void 0===E?"small":E,g=t.disabled,N=i(!1),S=N[0],T=N[1],h=i(null),x=h[0],F=h[1];a((function(){c(o).then((function(e){F(e),T(!1)}))}),[o]);var I=r((function(){T((function(e){return!e}))}),[]),P=p.has(o.type),b=u(o),k=P&&(b===f.Video||b===f.Audio),w=y("preview",{video:b===f.Video,image:b===f.Image,audio:b===f.Audio,other:b===f.Other});return e.createElement("div",{className:v.container,"data-test-id":"inputFile_uploadedScreen"},e.createElement("div",{className:v.header},k&&e.createElement(m,{isPlaying:S,togglePlay:I,dataTestId:"inputFile_uploadedScreen_play"}),e.createElement(s,{key:o.name,value:o.name,size:_,color:"primary",dataTestId:"inputFile_uploadedScreen_fileName"}),e.createElement(l,{disabled:g,onClick:j,dataTestId:"inputFile_uploadedScreen_bin"},e.createElement(n,null))),e.createElement("div",{className:w},x&&P&&e.createElement(d,{fileName:o.name,mediaType:b,isPlaying:S,fileUrl:x})))}));j.displayName="UploadedScreen";export{j as default};
//# sourceMappingURL=index.js.map
