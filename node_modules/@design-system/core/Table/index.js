import e,{createRef as t,useRef as o,useState as r,useEffect as n,useMemo as a}from"react";import"../typography/Caption/index.js";import"../typography/Label/index.js";import{Text as l}from"../typography/Text/index.js";import"../typography/Title/index.js";import{isSSR as i}from"@front-toolkit/utils";import c from"classnames";import{ScrollBox as m}from"../shared/ScrollBox/index.js";import s from"./TableContext.js";import{Header as p}from"./components/Header.js";import{Footer as u}from"./components/Footer.js";import{Row as d}from"./components/Row.js";import f from"./components/ColGroup.js";import{Cell as h}from"./components/Cell.js";import{HeaderCell as g}from"./components/HeaderCell.js";import{FooterCell as y}from"./components/FooterCell.js";import{DataCell as x}from"./components/DataCell.js";import j from"./Table.module.scss.js";var v=!i&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent);function b(g){var y,x=g.columnWidth,b=g.children,C=g.emptyText,E=g.refScrollBoxContainer,w=g.size,H=void 0===w?"default":w,T=g.tableHeight,P=void 0===T?"fixed":T,R=g.interactive,S=g.withoutPadding,z=g.header,N=g.contentLoader,D=g.onScroll,F=g.footer,k=t(),B=o(0),L=o(),W=r("100%"),A=W[0],G=W[1];n((function(){return i||(L.current=new ResizeObserver((function(e){var t=e[0].contentRect.height;B.current!==t&&(G("calc(100% - "+t+"px)"),B.current=t)})),k.current&&L.current&&L.current.observe(k.current)),function(){!i&&L.current&&L.current.disconnect()}}),[k,E]);var O=!!(null==b?void 0:b.length),_=x.length,q=a((function(){return e.createElement(f,{colWidths:x,columnCount:_})}),[_,x]),I=a((function(){return O||!C?null:e.createElement(d,{className:j.empty_row},e.createElement(h,{key:"empty-node-col",colSpan:_},e.createElement(l,{color:"secondary",inline:!0,size:H},C)))}),[O,C,_,H]),J=a((function(){return{size:H,hasData:O}}),[O,H]);return e.createElement(s.Provider,{value:J},e.createElement("div",{className:c(j.container,(y={},y[j.safari]=v,y[j.interactive]=R,y[j.withoutPadding]=S,y))},e.createElement(p,{tableRef:k,colgroup:q},z),"fixed"===P&&e.createElement(m,{autoHide:!0,maxHeight:A,ref:E,onScroll:D},e.createElement("table",null,q,e.createElement("tbody",{className:j.tbody},I,b)),N),"free"===P&&e.createElement("table",null,q,e.createElement("tbody",{className:j.tbody},I,b)),F&&e.createElement(u,{colgroup:q},F)))}b.HeaderCell=g,b.FooterCell=y,b.Row=d,b.Cell=h,b.DataCell=x,b.stopPropagation=function(e){e.stopPropagation()};export{b as Table};
//# sourceMappingURL=index.js.map
