import"focus-visible";import e,{useState as t,useRef as a,useMemo as r,useCallback as o,useEffect as n}from"react";import{startOfDay as i,differenceInMonths as s,startOfMonth as l,toDate as d}from"date-fns";import c from"date-fns/locale/ru";import m from"./coreColorStyles.scss.js";import v from"./Weekdays/index.js";import f from"./DaysList/index.js";import h from"./MonthsList/index.js";import u from"./YearsList/index.js";import y from"./styles.scss.js";var g={dataTestId:"calendar_id",maxDate:new Date(2100,11,1),minDate:new Date(1900,0,1),onSelectedDateChange:function(){},weekdays:["В","П","В","С","Ч","П","С"]},p=function(p){var w,D=p.dataTestId,x=void 0===D?g.dataTestId:D,E=p.defaultValue,k=p.height,C=void 0===k?350:k,S=p.locale,b=void 0===S?c:S,j=p.maxDate,I=void 0===j?g.maxDate:j,M=p.minDate,N=void 0===M?g.minDate:M,H=p.onSelectedDateChange,A=p.range,Y=p.rowHeight,L=void 0===Y?32:Y,T=p.tabIndex,_=void 0===T?1:T,F=p.value,O=p.weekdays,V=void 0===O?g.weekdays:O,W=p.colorStyles,q=void 0===W?m:W,z=i(new Date),B=t([]),G=B[0],J=B[1],K=t([]),P=K[0],Q=K[1],R=t([]),U=R[0],X=R[1],Z=t(0),$=Z[0],ee=Z[1],te=t(void 0),ae=te[0],re=te[1],oe=a(null),ne=F||E,ie=(Array.isArray(F)?F[0]:F)||E||z,se=r((function(){return Math.abs(s(l(N),ae||ie))}),[ae,ie,N]),le=o((function(){var e,t,a=d(N),r=d(I),o=a.getFullYear(),n=a.getMonth(),i=r.getFullYear(),s=r.getMonth(),l=[],c=[];for(e=o;e<=i;e+=1)for(c.push(e),t=0;t<12;t+=1){e===o&&t<n||e===i&&t>s||l.push({month:t,year:e})}J(l),Q(c)}),[N,I]);n((function(){le()}),[N,I,le]),n((function(){if(ne){var e=Array.isArray(ne)?ne:[ne];e.length>2&&(e=[e[0],e[e.length-1]]),re(e[0]),X(e)}}),[ne]);var de=o((function(e){var t=[];if(ee($+1),A){var a=U[0],r=U[1];return $%2==0?(U[1]&&(t[1]=r),t[0]=e):(t[0]=a,t[1]=e),void X(t)}t[0]=e,X(t)}),[U,$,A]);n((function(){H&&H(U)}),[U]);var ce=o((function(e){re(e)}),[]),me=o((function(e){re(e<N?N:e)}),[N]);return e.createElement("div",{tabIndex:_,className:y.root+" "+q.color_scheme,"aria-label":"Calendar",ref:oe,"data-test-id":x},e.createElement("div",{className:y.wrapper},e.createElement(v,{rowHeight:L,weekdays:V,weekStartsOn:null===(w=b.options)||void 0===w?void 0:w.weekStartsOn}),e.createElement("div",{className:y.dayslist_wrapper},e.createElement(f,{activeIndex:se,height:C,locale:b,maxDate:I,minDate:N,months:G,onMonthChange:ce,onSelect:de,range:A,rowHeight:L,selected:U,today:z}))),e.createElement("div",{className:y.sidebar},e.createElement("div",{className:y.line}),e.createElement(h,{active:ae,locale:b,months:G,onMonthClick:me,rowHeight:L,today:z}),e.createElement("div",{className:y.line}),e.createElement(u,{active:ae||ie,onYearClick:me,rowHeight:L,today:z,years:P})))};export{p as BaseCalendar,g as DEFAULT_PROPS};
//# sourceMappingURL=index.js.map
