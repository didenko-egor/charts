{"version":3,"file":"index.js","sources":["../../../src/ContextMenu/Menu/index.tsx"],"sourcesContent":["import React, { createElement, useEffect, useRef } from 'react';\nimport { cssDecorator } from '@front-toolkit/utils';\nimport { ScrollBox } from 'core/src/layouts/scrollBox';\n\nimport { MenuProps } from '../types';\nimport { MENU_STAMP_ATTR } from '../utils/useClickOutsideMenu';\n\nimport styles from './styles.scss';\n\nconst cd = cssDecorator(styles);\n\nconst Menu = React.forwardRef<HTMLUListElement, MenuProps>(({\n  menuPosition,\n  size = 'default',\n  children,\n  onHide,\n  onShow,\n  menuStamp\n}, ref) => {\n  const menuClassNames = cd('menu', { [size]: true });\n\n  const onHideRef = useRef(onHide);\n  const onShowRef = useRef(onShow);\n\n  onHideRef.current = onHide;\n  onShowRef.current = onShow;\n\n  useEffect(() => {\n    const { current: showCallback } = onShowRef;\n\n    if (showCallback) {\n      showCallback();\n    }\n\n    return (): void => {\n      const { current: hideCallback } = onHideRef;\n\n      if (hideCallback) {\n        hideCallback();\n      }\n    };\n  }, []);\n\n  return createElement(\n    'ul',\n    {\n      ref,\n      style: { left: `${ menuPosition?.x || -1000 }px`, top: `${ menuPosition?.y || -1000 }px` },\n      className: menuClassNames,\n      [`data-${ MENU_STAMP_ATTR }`]: menuStamp\n    },\n    <ScrollBox maxHeight=\"calc(100vh - 40px)\">\n      { children }\n    </ScrollBox>\n  );\n});\n\nMenu.displayName = 'Menu';\n\nexport default Menu;\n"],"names":["cd","cssDecorator","styles","Menu","React","forwardRef","_a","ref","menuPosition","_d","size","children","onHide","onShow","menuStamp","menuClassNames","onHideRef","useRef","onShowRef","current","useEffect","showCallback","hideCallback","createElement","style","left","x","top","y","className","MENU_STAMP_ATTR","ScrollBox","maxHeight","displayName"],"mappings":"sRASA,IAAMA,EAAKC,EAAaC,GAElBC,EAAOC,EAAMC,YAAwC,SAACC,EAOzDC,WANDC,iBACAC,SAAAC,aAAO,YACPC,aACAC,WACAC,WACAC,cAEMC,EAAiBf,EAAG,eAAWU,IAAO,MAEtCM,EAAYC,EAAOL,GACnBM,EAAYD,EAAOJ,GAqBzB,OAnBAG,EAAUG,QAAUP,EACpBM,EAAUC,QAAUN,EAEpBO,GAAU,WACA,IAASC,EAAiBH,UAMlC,OAJIG,GACFA,IAGK,WACG,IAASC,EAAiBN,UAE9BM,GACFA,OAGH,IAEIC,EACL,UAEEhB,MACAiB,MAAO,CAAEC,OAAUjB,eAAAA,EAAckB,KAAM,UAAWC,MAASnB,eAAAA,EAAcoB,KAAM,WAC/EC,UAAWd,IACV,QAASe,GAAqBhB,KAEjCV,gBAAC2B,GAAUC,UAAU,sBACjBrB,GAGR,IAEAR,EAAK8B,YAAc"}