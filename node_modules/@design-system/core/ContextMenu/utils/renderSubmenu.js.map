{"version":3,"file":"renderSubmenu.js","sources":["../../../src/ContextMenu/utils/renderSubmenu.ts"],"sourcesContent":["import {\n  Children,\n  ReactElement,\n  ReactNode,\n  RefObject,\n  cloneElement,\n  isValidElement\n} from 'react';\n\nimport { MenuProps } from '../types';\nimport Menu from '../Menu';\nimport { calculateSubmenuPosition } from './position';\n\n/** Создать подменю */\nexport function renderSubmenu(\n  itemRef: RefObject<HTMLLIElement>,\n  children?: ReactNode\n): ReactElement<MenuProps> | null {\n  const subMenu: ReactNode = Array.isArray(children) && children[0];\n\n  if (isValidElement(subMenu) && subMenu.type === Menu) {\n    const subMenuElementsCount = Children.count(subMenu.props.children);\n\n    return cloneElement(subMenu as ReactElement<MenuProps>, {\n      menuPosition: itemRef.current\n        ? calculateSubmenuPosition(itemRef.current, subMenuElementsCount)\n        : { x: 0, y: 0 }\n    });\n  }\n\n  return null;\n}\n"],"names":["renderSubmenu","itemRef","children","subMenu","Array","isArray","isValidElement","type","Menu","subMenuElementsCount","Children","count","props","cloneElement","menuPosition","current","calculateSubmenuPosition","x","y"],"mappings":"yKAcgBA,EACdC,EACAC,GAEA,IAAMC,EAAqBC,MAAMC,QAAQH,IAAaA,EAAS,GAE/D,GAAII,EAAeH,IAAYA,EAAQI,OAASC,EAAM,CACpD,IAAMC,EAAuBC,EAASC,MAAMR,EAAQS,MAAMV,UAE1D,OAAOW,EAAaV,EAAoC,CACtDW,aAAcb,EAAQc,QAClBC,EAAyBf,EAAQc,QAASN,GAC1C,CAAEQ,EAAG,EAAGC,EAAG,KAInB,OAAO,IACT"}