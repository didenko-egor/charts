{"version":3,"file":"index.js","sources":["../../../../../shared/BaseSelect/index.tsx"],"sourcesContent":["// TODO написать тест https://jira.corp.tass.ru/browse/TNA-471\nimport React, { useRef } from 'react';\nimport { BaseSelectProps } from 'core/types/select';\nimport { InputWrapper } from 'shared/InputWrapper';\n\nimport wrapperStyles from 'shared/InputWrapper/coreStyles.scss';\n\nimport useClickOutside from './useClickOutside';\nimport { DropdownList } from './DropdownList';\n\nconst stopPropagation = (event: React.MouseEvent<HTMLDivElement>): void => event.stopPropagation();\n\nconst BaseSelect = ({\n  label,\n  children,\n  items = [],\n  activeValue,\n  isOpenDropdown,\n  labelAside,\n  isError,\n  showHint,\n  size,\n  disabled,\n  hint,\n  onItemClick,\n  onCloseDropdown,\n  isLoading,\n  labelWidth,\n  fixedModeID,\n  dataTestId,\n  itemDataTestId,\n  onLoadMoreData\n}: BaseSelectProps): JSX.Element => {\n  const inputRef = useRef<HTMLDivElement | null>(null);\n  const dropDownRef = useRef<HTMLUListElement | null>(null);\n\n  useClickOutside(dropDownRef, inputRef, onCloseDropdown, isOpenDropdown);\n\n  return (\n    <InputWrapper\n      label={ label }\n      labelAside={ labelAside }\n      isError={ isError }\n      showHint={ showHint }\n      hint={ hint }\n      size={ size }\n      disabled={ disabled }\n      styles={ wrapperStyles }\n      labelWidth={ labelWidth }\n      dataTestId={ dataTestId }\n    >\n      { /* eslint-disable-next-line jsx-a11y/click-events-have-key-events,jsx-a11y/no-static-element-interactions */ }\n      <div onClick={ stopPropagation }>\n        <DropdownList\n          items={ items }\n          size={ size }\n          isOpenDropdown={ isOpenDropdown }\n          onItemClick={ onItemClick }\n          activeValue={ activeValue }\n          isLoading={ isLoading }\n          fixedModeID={ fixedModeID }\n          itemDataTestId={ itemDataTestId }\n          onLoadMoreData={ onLoadMoreData }\n          dropDownRef={ dropDownRef }\n        >\n          <div ref={ inputRef }>\n            { children }\n          </div>\n        </DropdownList>\n      </div>\n    </InputWrapper>\n  );\n};\n\nexport { BaseSelect, DropdownList };\n"],"names":["stopPropagation","event","BaseSelect","_a","label","children","_b","items","activeValue","isOpenDropdown","labelAside","isError","showHint","size","disabled","hint","onItemClick","onCloseDropdown","isLoading","labelWidth","fixedModeID","dataTestId","itemDataTestId","onLoadMoreData","inputRef","useRef","dropDownRef","useClickOutside","React","InputWrapper","styles","wrapperStyles","onClick","DropdownList","ref"],"mappings":"yTAUA,IAAMA,EAAkB,SAACC,GAAkD,OAAAA,EAAMD,mBAE3EE,EAAa,SAACC,OAClBC,UACAC,aACAC,UAAAC,aAAQ,KACRC,gBACAC,mBACAC,eACAC,YACAC,aACAC,SACAC,aACAC,SACAC,gBACAC,oBACAC,cACAC,eACAC,gBACAC,eACAC,mBACAC,mBAEMC,EAAWC,EAA8B,MACzCC,EAAcD,EAAgC,MAIpD,OAFAE,EAAgBD,EAAaF,EAAUP,EAAiBR,GAGtDmB,gBAACC,GACCzB,MAAQA,EACRM,WAAaA,EACbC,QAAUA,EACVC,SAAWA,EACXG,KAAOA,EACPF,KAAOA,EACPC,SAAWA,EACXgB,OAASC,EACTZ,WAAaA,EACbE,WAAaA,GAGbO,uBAAKI,QAAUhC,GACb4B,gBAACK,GACC1B,MAAQA,EACRM,KAAOA,EACPJ,eAAiBA,EACjBO,YAAcA,EACdR,YAAcA,EACdU,UAAYA,EACZE,YAAcA,EACdE,eAAiBA,EACjBC,eAAiBA,EACjBG,YAAcA,GAEdE,uBAAKM,IAAMV,GACPnB,KAMd"}