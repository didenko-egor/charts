import e,{useState as n,useRef as t,useCallback as r,useEffect as o}from"react";import{createPortal as i}from"react-dom";import l from"./styles.scss.js";var d=function(d){var c=d.fixedModeID,u=d.children,s=n(),a=s[0],f=s[1],v=n(),m=v[0],p=v[1],w=n([]),E=w[0],b=w[1],h=t(null),x=n(null),y=x[0],L=x[1],g=n(null),D=g[0],I=g[1],_=r((function(){var e=h.current;if(e){var n=e.getBoundingClientRect(),t=n.top,r=n.left,o=n.width;f({position:"fixed",top:t,left:r,width:o})}}),[]),z=r((function(e){if(L(e),h.current=e||null,null==e?void 0:e.isConnected){for(var n=[],t=e,r=1e4;t&&r;)r-=1,(t=t.parentElement)===document.body?t=null:(null==t?void 0:t.matches(".simplebar-content-wrapper, [data-has-scroll]"))&&n.push(t);b(n)}D&&e&&D.observe(e)}),[D]);o((function(){if(D&&y)return D.observe(y),function(){return D.unobserve(y)}}),[D,y]),o((function(){return window.addEventListener("scroll",_),window.addEventListener("resize",_),E.forEach((function(e){e.addEventListener("scroll",_),D&&D.observe(e)})),function(){window.removeEventListener("scroll",_),window.removeEventListener("resize",_),E.forEach((function(e){e.removeEventListener("scroll",_),D&&D.unobserve(e)}))}}),[_,D,E]),o((function(){var e=new ResizeObserver(_);return I(e),p(document.body),function(){return e.disconnect()}}),[_]);return e.createElement(e.Fragment,null,e.createElement("div",{tabIndex:0,className:l.dropdown__target,ref:z,onFocus:function(e){e.preventDefault();var n=document.querySelector("body > [data-fixed-mode-id="+c+"] li");(null==n?void 0:n.focus)&&n.focus()}}),m?i(e.createElement("div",{style:a,className:l.dropdown__portal,"data-fixed-mode-id":c},u),m):null)},c=function(n){var t=n.fixedModeID,r=n.isOpen,o=n.children;return t&&r?e.createElement(d,{fixedModeID:t},o):e.createElement(e.Fragment,null,o)};export{c as DropDown};
//# sourceMappingURL=DropDown.js.map
