import e,{useMemo as n,useState as t,useEffect as o}from"react";import{CalendarPage as a,DEFAULT_LOCALE_OPTIONS as i}from"./types.js";import{getToday as r}from"./utils.js";import{useDaySelect as l}from"./useDaySelect.js";import{YearsPage as s,START_YEAR_OFFSET as m}from"./YearsPage/index.js";import{MonthsPage as u}from"./MonthsPage/index.js";import{DaysPage as c}from"./DaysPage/index.js";function d(d){var f,h=d.minDate,v=d.maxDate,D=d.hideWeekends,g=d.marks,p=d.value,x=d.openAt,M=d.rangeMode,Y=d.localeOptions,y=void 0===Y?i:Y,S=d.onChange,j=d.onClick,w=n((function(){var e,n;return{date:null!==(n=null!==(e=null==p?void 0:p.from)&&void 0!==e?e:null==x?void 0:x.date)&&void 0!==n?n:r(),page:null==x?void 0:x.page}}),[x,null==p?void 0:p.from]),P=l({rangeMode:M,initialSelection:p,onChange:function(e){j&&j(),S&&S(e)}}),k=P.selection,C=P.handleChange,N=t(null!==(f=w.page)&&void 0!==f?f:a.Days),E=N[0],F=N[1],O=t(w.date.getFullYear()),W=O[0],A=O[1],b=t(w.date.getMonth()),q=b[0],z=b[1];o((function(){var e;F(null!==(e=w.page)&&void 0!==e?e:a.Days),A(w.date.getFullYear()),z(w.date.getMonth())}),[w]);var B=function(e){A(e),F(a.Months),j&&j()},G=function(e){A(e),F(a.Years),j&&j()};if(E===a.Years){return e.createElement(s,{minDate:h,maxDate:v,selectedDate:k,onShowMonths:B,activeYear:W,onNext:function(){A(W+2*m),j&&j()},onPrev:function(){A(W-2*m),j&&j()}})}if(E===a.Months){return e.createElement(u,{minDate:h,maxDate:v,selectedDate:k,onShowYears:G,activeYear:W,monthsNames:y.shortMonths,onShowDays:function(e,n){z(e),A(n),F(a.Days),j&&j()},onNext:function(){A(W+1),j&&j()},onPrev:function(){A(W-1),j&&j()}})}return e.createElement(c,{marks:g,minDate:h,maxDate:v,hideWeekends:D,selectedDate:k,onShowMonths:B,onShowYears:G,activeDate:new Date(W,q,1),localeOptions:y,onChange:C,onNext:function(){var e=q+1;e>11&&(e=0,A(W+1)),z(e),j&&j()},onPrev:function(){var e=q-1;e<0&&(e=11,A(W-1)),z(e),j&&j()}})}export{d as PageCalendar};
//# sourceMappingURL=index.js.map
