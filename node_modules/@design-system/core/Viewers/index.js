import e,{useState as t,useRef as i,useEffect as r}from"react";import{Tooltip as n}from"../Tooltip/index.js";import{cssDecorator as a}from"@front-toolkit/utils";import"../typography/Caption/index.js";import"../typography/Label/index.js";import{Text as o}from"../typography/Text/index.js";import"../typography/Title/index.js";import{IconEye as l}from"../icons/index.js";import s from"./styles.scss.js";var c=a(s),m=function(a){var m,d,p=a.maxWidth,f=a.size,v=void 0===f?"default":f,u=a.type,h=void 0===u?"default":u,y=a.items,x=void 0===y?[]:y,E=a.dataTestId,g=a.tooltipDataTestId,j=t(),T=j[0],w=j[1],N=t(""),W=N[0],z=N[1],_=i(null),k=void 0!==T;return r((function(){w(void 0),z("")}),[x,p,v]),r((function(){if(_.current&&!k){var e=_.current,t=e.clientWidth,i=e.children;if(e.scrollWidth>t){var r=0,n=0,a="";Array.from(i).forEach((function(e,i){if((n+=e.clientWidth)<=t)r+=1;else{var o=i!==x.length-1?"\n":"";a+=""+x[i]+o}})),w(r),z(a)}}}),[k,x,p,v]),x.length?e.createElement("div",{className:c("viewers_wrapper",(m={},m[h]=h,m)),"data-test-id":E},e.createElement("div",{className:s.viewers_block,style:{maxWidth:p}},e.createElement("div",{className:s.viewers_icon},e.createElement(l,null)),e.createElement("div",{className:s.viewers_list,ref:_},x.map((function(t,i){return r=i,Boolean(!k||r<T)&&e.createElement(o,{key:t,color:"inherit",size:v,inline:!0},function(e){return k?e===T-1:e===x.length-1}(i)?t:t+",Â ");var r})))),k&&e.createElement(n,{placement:"top",text:W,size:"small",tailAlign:"end",dataTestId:g},e.createElement("div",{className:c("counter",(d={},d[h]=h,d[v]=v,d))},e.createElement(o,{color:"inherit",size:v,inline:!0},"+"+(x.length-T))))):null};export{m as Viewers};
//# sourceMappingURL=index.js.map
