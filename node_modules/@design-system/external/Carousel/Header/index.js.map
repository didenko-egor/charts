{"version":3,"file":"index.js","sources":["../../../src/Carousel/Header/index.tsx"],"sourcesContent":["/* eslint-disable jsx-a11y/no-static-element-interactions */\n/* eslint-disable jsx-a11y/click-events-have-key-events */\nimport React, { useCallback, useMemo } from 'react';\nimport { cssDecorator } from '@front-toolkit/utils';\nimport Title from 'external/src/typography/Title';\nimport { CustomLinkType } from 'shared/types/customLink';\n\nimport { IconArrowLeft, IconArrowRight } from 'external/src/icons';\n\nimport { CarouselColorTheme, Command } from '../types';\n\nimport styles from './Header.module.scss';\n\nconst cd = cssDecorator(styles);\n\ninterface HeaderProps {\n  /** Заголовок карусели */\n  title: string;\n\n  /** Палитра цветов UI-элеметнов карусели */\n  theme: CarouselColorTheme;\n\n  /** Команда \"Прокрутить вперед\" */\n  switchToNextStep: Command;\n\n  /** Команда \"Прокрутить назад\" */\n  switchToPreviousStep: Command;\n\n  /** Флаг инверсии цвета заголовка */\n  invertTitle?: boolean;\n\n  /** Флаг инверсии цвета UI-элеметнов */\n  invertControls?: boolean;\n\n  /** Флаг отображения уменьшенных (мобильных) слайдов */\n  smallSlides?: boolean;\n\n  /** Ссылка для перехода по клику на заголовок */\n  href?: string;\n\n  /** Пользовательский компонент ссылки заголовка.\n   * Используется вместо встроенного для дополнительной стилизации и оборачивания в next/link\n   * */\n  customLink?: CustomLinkType;\n\n  /** Флаг скрытия кнопок прокрутки */\n  hideButtons?: boolean;\n\n  /** Коллбэк, вызываемый при клике на кнопки прокрутки карусели */\n  onControlsClick?: () => void;\n\n  /** Коллбэк, вызываемый при клике на заголовок карусели */\n  onTitleClick?: (url?: string, text?: string) => void;\n}\n\nconst Header: React.FC<HeaderProps> = ({\n  title,\n  theme,\n  switchToNextStep,\n  switchToPreviousStep,\n  invertTitle,\n  invertControls,\n  smallSlides,\n  hideButtons,\n  href = '',\n  customLink: CustomLink,\n  onControlsClick,\n  onTitleClick\n}) => {\n  const headerStyles = useMemo(\n    () => ({\n      '--ds-carousel-title-color': invertTitle ? theme.inverseColor : theme.color,\n      '--ds-carousel-color-divider': theme.divider\n    } as React.CSSProperties),\n    [theme, invertTitle]\n  );\n\n  const controlsColors = useMemo(\n    () => {\n      const colors = {\n        enabled: invertControls ? theme.inverseColor : theme.color,\n        disabled: invertControls ? theme.inverseDisabledColor : theme.disabledColor\n      };\n\n      return {\n        back: switchToPreviousStep.canExecute ? colors.enabled : colors.disabled,\n        next: switchToNextStep.canExecute ? colors.enabled : colors.disabled\n      };\n    },\n    [\n      theme,\n      invertControls,\n      switchToPreviousStep.canExecute,\n      switchToNextStep.canExecute\n    ]\n  );\n\n  const handleTitleClick = useCallback((): void => {\n    if (onTitleClick) onTitleClick(href, title);\n  }, [href, onTitleClick, title]);\n\n  const titleLinkElement = useMemo(\n    () => {\n      const titleClassName = cd('header__title', {\n        mobile: smallSlides,\n        buttons_hidden: hideButtons,\n        clickable: !!href\n      });\n\n      const titleElement = (\n        <Title\n          dataTestId=\"carousel-title-id\"\n          variant={ smallSlides ? 'h3_default' : 'h2_small' }\n          fontWeight=\"bold\"\n          tagName=\"span\"\n          inheritColor\n          onClick={ handleTitleClick }\n        >\n          { title }\n        </Title>\n      );\n\n      return href\n        ? React.createElement(CustomLink || 'a', { href, className: titleClassName }, titleElement)\n        : <div className={ titleClassName }>{ titleElement }</div>;\n    },\n\n    [\n      smallSlides,\n      title,\n      CustomLink,\n      href,\n      hideButtons,\n      handleTitleClick\n    ]\n  );\n\n  return (\n    <header className={ cd('header', { buttons_hidden: hideButtons }) } style={ headerStyles }>\n      { titleLinkElement }\n      { !hideButtons && (\n      <section className={ styles.header__buttons } onClick={ onControlsClick }>\n        <button\n          onClick={ switchToPreviousStep.execute }\n          disabled={ !switchToPreviousStep.canExecute }\n          type=\"button\"\n          className={ styles.header__button }\n          aria-label=\"Назад\"\n          style={ { color: controlsColors.back } }\n        >\n          <IconArrowLeft color=\"inherit\" />\n        </button>\n        <button\n          onClick={ switchToNextStep.execute }\n          disabled={ !switchToNextStep.canExecute }\n          type=\"button\"\n          className={ styles.header__button }\n          aria-label=\"Вперед\"\n          style={ { color: controlsColors.next } }\n        >\n          <IconArrowRight color=\"inherit\" />\n        </button>\n      </section>\n      ) }\n    </header>\n  );\n};\n\nexport default Header;\n"],"names":["cd","cssDecorator","styles","Header","_a","title","theme","switchToNextStep","switchToPreviousStep","invertTitle","invertControls","smallSlides","hideButtons","_b","href","CustomLink","onControlsClick","onTitleClick","headerStyles","useMemo","inverseColor","color","divider","controlsColors","colors","enabled","disabled","inverseDisabledColor","disabledColor","back","canExecute","next","handleTitleClick","useCallback","titleLinkElement","titleClassName","mobile","buttons_hidden","clickable","titleElement","React","Title","dataTestId","variant","fontWeight","tagName","inheritColor","onClick","createElement","className","style","header__buttons","execute","type","header__button","IconArrowLeft","IconArrowRight"],"mappings":"8QAaA,IAAMA,EAAKC,EAAaC,GA0ClBC,EAAgC,SAACC,OACrCC,UACAC,UACAC,qBACAC,yBACAC,gBACAC,mBACAC,gBACAC,gBACAC,SAAAC,aAAO,KACKC,eACZC,oBACAC,iBAEMC,EAAeC,GACnB,WAAM,OACJ,4BAA6BV,EAAcH,EAAMc,aAAed,EAAMe,MACtE,8BAA+Bf,EAAMgB,WAEvC,CAAChB,EAAOG,IAGJc,EAAiBJ,GACrB,WACE,IAAMK,EAAS,CACbC,QAASf,EAAiBJ,EAAMc,aAAed,EAAMe,MACrDK,SAAUhB,EAAiBJ,EAAMqB,qBAAuBrB,EAAMsB,eAGhE,MAAO,CACLC,KAAMrB,EAAqBsB,WAAaN,EAAOC,QAAUD,EAAOE,SAChEK,KAAMxB,EAAiBuB,WAAaN,EAAOC,QAAUD,EAAOE,YAGhE,CACEpB,EACAI,EACAF,EAAqBsB,WACrBvB,EAAiBuB,aAIfE,EAAmBC,GAAY,WAC/BhB,GAAcA,EAAaH,EAAMT,KACpC,CAACS,EAAMG,EAAcZ,IAElB6B,EAAmBf,GACvB,WACE,IAAMgB,EAAiBnC,EAAG,gBAAiB,CACzCoC,OAAQzB,EACR0B,eAAgBzB,EAChB0B,YAAaxB,IAGTyB,EACJC,gBAACC,GACCC,WAAW,oBACXC,QAAUhC,EAAc,aAAe,WACvCiC,WAAW,OACXC,QAAQ,OACRC,gBACAC,QAAUf,GAER3B,GAIN,OAAOS,EACH0B,EAAMQ,cAAcjC,GAAc,IAAK,CAAED,OAAMmC,UAAWd,GAAkBI,GAC5EC,uBAAKS,UAAYd,GAAmBI,KAG1C,CACE5B,EACAN,EACAU,EACAD,EACAF,EACAoB,IAIJ,OACEQ,0BAAQS,UAAYjD,EAAG,SAAU,CAAEqC,eAAgBzB,IAAiBsC,MAAQhC,GACxEgB,GACCtB,GACH4B,2BAASS,UAAY/C,EAAOiD,gBAAkBJ,QAAU/B,GACtDwB,0BACEO,QAAUvC,EAAqB4C,QAC/B1B,UAAYlB,EAAqBsB,WACjCuB,KAAK,SACLJ,UAAY/C,EAAOoD,4BACR,QACXJ,MAAQ,CAAE7B,MAAOE,EAAeM,OAEhCW,gBAACe,GAAclC,MAAM,aAEvBmB,0BACEO,QAAUxC,EAAiB6C,QAC3B1B,UAAYnB,EAAiBuB,WAC7BuB,KAAK,SACLJ,UAAY/C,EAAOoD,4BACR,SACXJ,MAAQ,CAAE7B,MAAOE,EAAeQ,OAEhCS,gBAACgB,GAAenC,MAAM,cAMhC"}