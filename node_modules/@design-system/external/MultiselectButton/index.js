import t,{useState as e,useMemo as n,useEffect as r}from"react";import{Button as i}from"../Button/index.js";import{DEFAULT_PROPS as o,CHARS_AND_INDENTS as s}from"./constants.js";export{DEFAULT_PROPS}from"./constants.js";import u from"./styles.scss.js";var a=function(t,e,n){void 0===n&&(n=", ");var r=e[0]||"";if(!e.length)return"";if(r.length>t){var i=r.split(" ");return i.length>1?a(t,i," "):r.slice(0,t-1)+"..."}var o=1;return e.some((function(e,i){return!!i&&(r.length+e.length+2>t||(o+=1,r+=""+n+e,!1))})),e.length>o&&(r+="..."),r},l=function(l){var c=l.items,f=l.activeValues,m=l.onClick,d=l.defaultButtonLabel,h=l.type,v=void 0===h?o.type:h,p=l.size,g=void 0===p?o.size:p,b=l.listWidth,x=void 0===b?o.listWidth:b,M=l.isMourning,j=e(null),y=j[0],z=j[1],P=e(0),W=P[0],E=P[1],k=e(""),w=k[0],B=k[1],C=s[g],L=C.charWidth,O=C.buttonPaddingX,R=n((function(){return new Set(f)}),[f]),S=n((function(){return c.reduce((function(t,e){return R.has(e.value)&&t.push(e.label),t}),[])}),[c,R]);return r((function(){if(y){var t=function(){return E(Math.max(y.offsetWidth-O,0))},e=new ResizeObserver(t);return t(),e.observe(y),function(){return e.disconnect()}}}),[y,O]),r((function(){var t=Math.min(x,W),e=Math.floor(t/L)||1,n=a(e,S);B(n)}),[W,S,x,L]),t.createElement("div",{className:u.multiselect_button,ref:z},t.createElement(i,{text:w||d,size:g,onClick:m,type:v,stretch:!0,isMourning:M}))};l.defaultProps=o;var c=t.memo(l);export{l as MultiselectButton,c as default};
//# sourceMappingURL=index.js.map
