import{__assign as e}from"tslib";import t,{useMemo as r,useCallback as n,useEffect as a}from"react";import i from"date-fns/format";import{useInView as o}from"react-intersection-observer";import{getDateString as s,getInRange as y}from"../../utils/index.js";import l from"../Day/index.js";import m from"./styles.scss.js";var c=function(c){var d=c.locale,f=c.maxDate,u=c.minDate,h=c.month,p=c.monthDate,M=c.onSelect,v=c.onMonthChange,w=c.range,g=c.rowHeight,x=c.rows,E=c.selected,D=c.style,b=c.today,k=c.year,L=o({threshold:1,initialInView:!1}),j=L.ref,H=L.inView,N=L.entry,R=r((function(){return i(p,"LLLL yyyy",{locale:d})}),[p,d]),C=n((function(e){"100"===(100*e.intersectionRatio).toFixed(0)&&v&&v(p)}),[p,v]);a((function(){N&&C(N)}),[H,N,C]);var I,S,V,F;return t.createElement("div",{ref:j,style:e(e({},D),{lineHeight:g+"px"})},t.createElement("div",{className:m.monthname},R),t.createElement("div",{className:m.rows},(I=i(b,"yyyy-MM-dd"),S=i(u,"yyyy-MM-dd"),V=i(f,"yyyy-MM-dd"),F=[],null==E||E.forEach((function(e){F.push(i(e,"yyyy-MM-dd"))})),x.map((function(e,r){return t.createElement("ul",{key:"Row-"+r,className:m.row,style:{height:g},"aria-label":"Week "+(r+1)},e.map((function(e){var r=s(k,h,e),n=r<S||r>V,a=F&&-1!==F.indexOf(r),i=y(r,F,w);return t.createElement(l,{key:"day-"+e,date:r,day:e,isDisabled:n,isInRange:i,isSelected:a,isToday:r===I,onClick:M,rowHeight:g})})))})))))};export{c as default};
//# sourceMappingURL=index.js.map
