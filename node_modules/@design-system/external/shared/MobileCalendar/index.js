import{__spreadArray as e}from"tslib";import t,{useState as n,useMemo as a,useEffect as r,useCallback as l}from"react";import{Label as o}from"../../typography/Label/index.js";import i from"./Month/index.js";import u from"./styles.scss.js";import{IconSimpleArrowLeft as c,IconSimpleArrowRight as s}from"../../icons/defaultIcons.js";var m=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"],d=function(d){var f=d.dataTestId,g=void 0===f?"mobile_calendar_id":f,v=d.onSelectedDateChange,h=d.onChangeActiveYear,b=d.minDate,p=d.maxDate,D=d.range,y=d.value,E=n(new Date),w=E[0],C=E[1],M=n([]),x=M[0],N=M[1],j=null==w?void 0:w.getFullYear(),Y=null==w?void 0:w.getMonth(),_=a((function(){return j===(null==b?void 0:b.getFullYear())&&Y===(null==b?void 0:b.getMonth())}),[Y,j,b]),k=a((function(){return j===(null==p?void 0:p.getFullYear())&&Y===(null==p?void 0:p.getMonth())}),[Y,j,p]);r((function(){if(y){if(Array.isArray(y)){var e=y[y.length-1];return C(new Date(e)),N(1===y.length?y:[y[0],e])}return C(new Date(y)),N(y?[y]:[])}}),[y]),r((function(){x.length&&v&&v(x)}),[x,v]),r((function(){h&&j&&h(j)}),[h,j]);var A=l((function(e){return C((function(t){return new Date(t.setMonth(t.getMonth()+e))}))}),[]),F=l((function(t){return N((function(n){var a;return n[0]&&D&&2!==n.length?1===n.length&&(null===(a=n[0])||void 0===a?void 0:a.getDate())===t.getDate()?n:e(e([],n,!0),[t],!1).sort((function(e,t){return+e-+t})):[t]}))}),[D]);return t.createElement("div",{"data-test-id":g,className:u.wrapper,"aria-label":"Calendar"},t.createElement("div",{className:u.header},t.createElement("button",{type:"button","aria-label":"Назад",className:u.arrow_button,onClick:function(){return A(-1)},disabled:_},t.createElement(c,null)),t.createElement("div",{className:u.label},t.createElement(o,{size:"large",color:"tass"},m[Y]+" "+j)),t.createElement("button",{type:"button","aria-label":"Вперед",className:u.arrow_button,onClick:function(){return A(1)},disabled:k},t.createElement(s,null))),t.createElement(i,{month:Y,year:j,selectedDates:x,minDate:b,maxDate:p,handleDayClick:F}))};export{d as MobileCalendar,m as months};
//# sourceMappingURL=index.js.map
